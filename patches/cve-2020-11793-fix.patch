From: ChangSeok Oh <changseok@webkit.org>
Subject: Fix CVE-2020-11793
Origin: https://trac.webkit.org/changeset/258532/webkit
Index: webkitgtk/Source/WebCore/html/HTMLTextAreaElement.cpp
===================================================================
--- webkitgtk.orig/Source/WebCore/html/HTMLTextAreaElement.cpp
+++ webkitgtk/Source/WebCore/html/HTMLTextAreaElement.cpp
@@ -284,13 +284,14 @@ void HTMLTextAreaElement::defaultEventHa
 
 void HTMLTextAreaElement::subtreeHasChanged()
 {
-    setChangedSinceLastFormControlChangeEvent(true);
     setFormControlValueMatchesRenderer(false);
     updateValidity();
 
     if (!focused())
         return;
 
+    setChangedSinceLastFormControlChangeEvent(true);
+
     if (RefPtr<Frame> frame = document().frame())
         frame->editor().textDidChangeInTextArea(this);
     // When typing in a textarea, childrenChanged is not called, so we need to force the directionality check.
